{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useCart}from'../context/CartContext';import'./ProductCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product}=_ref;const{addToCart}=useCart();const handleAddToCart=e=>{e.preventDefault();e.stopPropagation();addToCart(product,1);};const renderStars=rating=>{const stars=[];const fullStars=Math.floor(rating);const hasHalfStar=rating%1!==0;for(let i=0;i<fullStars;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:\"star\",children:\"\\u2605\"},i));}if(hasHalfStar){stars.push(/*#__PURE__*/_jsx(\"span\",{className:\"star half\",children:\"\\u2605\"},\"half\"));}const emptyStars=5-Math.ceil(rating);for(let i=0;i<emptyStars;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:\"star empty\",children:\"\\u2606\"},\"empty-\".concat(i)));}return stars;};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product.id),className:\"product-link\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"product-image\",loading:\"lazy\"}),product.stock<=5&&product.stock>0&&/*#__PURE__*/_jsx(\"div\",{className:\"low-stock-badge\",children:\"Low Stock\"}),product.stock===0&&/*#__PURE__*/_jsx(\"div\",{className:\"out-of-stock-badge\",children:\"Out of Stock\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-rating\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stars\",children:renderStars(product.rating)}),/*#__PURE__*/_jsxs(\"span\",{className:\"rating-text\",children:[\"(\",product.rating,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-stock\",children:product.stock>0?/*#__PURE__*/_jsxs(\"span\",{className:\"in-stock\",children:[product.stock,\" in stock\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"out-of-stock\",children:\"Out of stock\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary \".concat(product.stock===0?'disabled':''),onClick:handleAddToCart,disabled:product.stock===0,children:product.stock===0?'Out of Stock':'Add to Cart'})})]});};export default ProductCard;","map":{"version":3,"names":["React","Link","useCart","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","addToCart","handleAddToCart","e","preventDefault","stopPropagation","renderStars","rating","stars","fullStars","Math","floor","hasHalfStar","i","push","className","children","emptyStars","ceil","concat","to","id","src","image","alt","name","loading","stock","description","price","toFixed","onClick","disabled"],"sources":["C:/Users/medis/OneDrive/Desktop/CICD_Project/CICD-FreshCart/frontend/src/components/ProductCard.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\nimport './ProductCard.css';\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const { addToCart } = useCart();\r\n\r\n  const handleAddToCart = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    addToCart(product, 1);\r\n  };\r\n\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    const fullStars = Math.floor(rating);\r\n    const hasHalfStar = rating % 1 !== 0;\r\n\r\n    for (let i = 0; i < fullStars; i++) {\r\n      stars.push(<span key={i} className=\"star\">★</span>);\r\n    }\r\n\r\n    if (hasHalfStar) {\r\n      stars.push(<span key=\"half\" className=\"star half\">★</span>);\r\n    }\r\n\r\n    const emptyStars = 5 - Math.ceil(rating);\r\n    for (let i = 0; i < emptyStars; i++) {\r\n      stars.push(<span key={`empty-${i}`} className=\"star empty\">☆</span>);\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  return (\r\n    <div className=\"product-card\">\r\n      <Link to={`/products/${product.id}`} className=\"product-link\">\r\n        <div className=\"product-image-container\">\r\n          <img \r\n            src={product.image} \r\n            alt={product.name}\r\n            className=\"product-image\"\r\n            loading=\"lazy\"\r\n          />\r\n          {product.stock <= 5 && product.stock > 0 && (\r\n            <div className=\"low-stock-badge\">Low Stock</div>\r\n          )}\r\n          {product.stock === 0 && (\r\n            <div className=\"out-of-stock-badge\">Out of Stock</div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"product-info\">\r\n          <h3 className=\"product-name\">{product.name}</h3>\r\n          <p className=\"product-description\">{product.description}</p>\r\n          \r\n          <div className=\"product-rating\">\r\n            <div className=\"stars\">\r\n              {renderStars(product.rating)}\r\n            </div>\r\n            <span className=\"rating-text\">({product.rating})</span>\r\n          </div>\r\n          \r\n          <div className=\"product-price\">${product.price.toFixed(2)}</div>\r\n          \r\n          <div className=\"product-stock\">\r\n            {product.stock > 0 ? (\r\n              <span className=\"in-stock\">{product.stock} in stock</span>\r\n            ) : (\r\n              <span className=\"out-of-stock\">Out of stock</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      \r\n      <div className=\"product-actions\">\r\n        <button\r\n          className={`btn btn-primary ${product.stock === 0 ? 'disabled' : ''}`}\r\n          onClick={handleAddToCart}\r\n          disabled={product.stock === 0}\r\n        >\r\n          {product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAAEE,SAAU,CAAC,CAAGR,OAAO,CAAC,CAAC,CAE/B,KAAM,CAAAS,eAAe,CAAIC,CAAC,EAAK,CAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBD,CAAC,CAACE,eAAe,CAAC,CAAC,CACnBJ,SAAS,CAACD,OAAO,CAAE,CAAC,CAAC,CACvB,CAAC,CAED,KAAM,CAAAM,WAAW,CAAIC,MAAM,EAAK,CAC9B,KAAM,CAAAC,KAAK,CAAG,EAAE,CAChB,KAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACJ,MAAM,CAAC,CACpC,KAAM,CAAAK,WAAW,CAAGL,MAAM,CAAG,CAAC,GAAK,CAAC,CAEpC,IAAK,GAAI,CAAAM,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,SAAS,CAAEI,CAAC,EAAE,CAAE,CAClCL,KAAK,CAACM,IAAI,cAACnB,IAAA,SAAcoB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,QAAC,EAArBH,CAA2B,CAAC,CAAC,CACrD,CAEA,GAAID,WAAW,CAAE,CACfJ,KAAK,CAACM,IAAI,cAACnB,IAAA,SAAiBoB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,QAAC,EAA9B,MAAoC,CAAC,CAAC,CAC7D,CAEA,KAAM,CAAAC,UAAU,CAAG,CAAC,CAAGP,IAAI,CAACQ,IAAI,CAACX,MAAM,CAAC,CACxC,IAAK,GAAI,CAAAM,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGI,UAAU,CAAEJ,CAAC,EAAE,CAAE,CACnCL,KAAK,CAACM,IAAI,cAACnB,IAAA,SAAyBoB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAC,WAAAG,MAAA,CAA7BN,CAAC,CAAkC,CAAC,CAAC,CACtE,CAEA,MAAO,CAAAL,KAAK,CACd,CAAC,CAED,mBACEX,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnB,KAAA,CAACL,IAAI,EAAC4B,EAAE,cAAAD,MAAA,CAAenB,OAAO,CAACqB,EAAE,CAAG,CAACN,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3DnB,KAAA,QAAKkB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCrB,IAAA,QACE2B,GAAG,CAAEtB,OAAO,CAACuB,KAAM,CACnBC,GAAG,CAAExB,OAAO,CAACyB,IAAK,CAClBV,SAAS,CAAC,eAAe,CACzBW,OAAO,CAAC,MAAM,CACf,CAAC,CACD1B,OAAO,CAAC2B,KAAK,EAAI,CAAC,EAAI3B,OAAO,CAAC2B,KAAK,CAAG,CAAC,eACtChC,IAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,WAAS,CAAK,CAChD,CACAhB,OAAO,CAAC2B,KAAK,GAAK,CAAC,eAClBhC,IAAA,QAAKoB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,cAAY,CAAK,CACtD,EACE,CAAC,cAENnB,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrB,IAAA,OAAIoB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEhB,OAAO,CAACyB,IAAI,CAAK,CAAC,cAChD9B,IAAA,MAAGoB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAEhB,OAAO,CAAC4B,WAAW,CAAI,CAAC,cAE5D/B,KAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrB,IAAA,QAAKoB,SAAS,CAAC,OAAO,CAAAC,QAAA,CACnBV,WAAW,CAACN,OAAO,CAACO,MAAM,CAAC,CACzB,CAAC,cACNV,KAAA,SAAMkB,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAAChB,OAAO,CAACO,MAAM,CAAC,GAAC,EAAM,CAAC,EACpD,CAAC,cAENV,KAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,GAAC,CAAChB,OAAO,CAAC6B,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAM,CAAC,cAEhEnC,IAAA,QAAKoB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BhB,OAAO,CAAC2B,KAAK,CAAG,CAAC,cAChB9B,KAAA,SAAMkB,SAAS,CAAC,UAAU,CAAAC,QAAA,EAAEhB,OAAO,CAAC2B,KAAK,CAAC,WAAS,EAAM,CAAC,cAE1DhC,IAAA,SAAMoB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,cAAY,CAAM,CAClD,CACE,CAAC,EACH,CAAC,EACF,CAAC,cAEPrB,IAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BrB,IAAA,WACEoB,SAAS,oBAAAI,MAAA,CAAqBnB,OAAO,CAAC2B,KAAK,GAAK,CAAC,CAAG,UAAU,CAAG,EAAE,CAAG,CACtEI,OAAO,CAAE7B,eAAgB,CACzB8B,QAAQ,CAAEhC,OAAO,CAAC2B,KAAK,GAAK,CAAE,CAAAX,QAAA,CAE7BhB,OAAO,CAAC2B,KAAK,GAAK,CAAC,CAAG,cAAc,CAAG,aAAa,CAC/C,CAAC,CACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}